<div class="wrapper-main">

  <h1>
    Welcome to your bookings
  </h1>
</div>

<h1 class="text-center"> My trips!</h1>
<div class="container">

  <% @bookings.each do |booking| %>

  <div class="message">
    <img class="avatar-large" src="https://unsplash.it/50/50">
    <div class="message-name">
      <h3><%= booking.flat.name %></h3>
      <p> <%= booking.start_date %> </p>

    </div>
    <div class="message-body">
      <p><strong> <%= booking.flat.description %> </strong></p>
      <p>
        I am not sure yet! I might be in Shanghai at this moment... Can I tell you later?
      </p>
    </div>
    <div class="message-status">
      <p class="status pending">Pending</p>
      <p class="price"></p>
    </div>
  </div>
  <% end %>
</div>

<h1 class="text-center"> My bookings!</h1>
<div class="container">
  <% current_user.flats.each do |flat| %>
  <% if flat.bookings.any? %>
  <% flat.bookings.each do |booking| %>


  <div class="message">
    <img class="avatar-large" src="https://unsplash.it/50/50">
    <div class="message-name">
      <h3><%= booking.flat.name %></h3>
      <p><%=  booking.flat.description %></p>
    </div>
    <div class="message-body">
      <p>
        <%= booking.flat.location %>
      </p>
    </div>
    <div class="message-status">
      <p>
        Start date:  <%= booking.start_date %>
      </p>
      <p>
       End date:  <%= booking.end_date %>

     </div>
   </div>

 </p>
 <% end %>
 <% end  %>
 <% end %>
</div>


<style>
.message {
  display: flex;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid rgba(220,224,244,0.4);
}
.message:last-child {
  border-bottom: none;
}
.message-body {
  flex-grow: 1;
}
.message-name {
  padding-left: 10px;
  min-width: 100px;
}
.message-name h3 {
  font-size: 13px;
  margin-bottom: 0px;
}
.message-name p {
  font-size: 13px;
  font-weight: lighter;
  opacity: 0.6;
  margin-top: 5px;
}
.message-body {
  padding-left: 10px;
  font-size: 13px;
  color: rgba(0,0,0,0.7);
}
.message-body {
  padding-left: 20px;
  color: rgba(0,0,0,0.4);
}
.message-body strong{
  color: rgba(0,0,0,0.9);
  color: rgba(0,0,0,0.9);
}
.message-body p {
  margin: 6px 0;
}
.message-status {
  font-size: 14px;
  font-weight: bold;
}
.status.accepted {
  color: #04A366;
}
.status.declined {
  color: red;
}
.status.pending {
  color: lightgrey;
}
</style>
